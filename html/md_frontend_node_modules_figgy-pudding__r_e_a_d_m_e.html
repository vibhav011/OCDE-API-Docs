<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OCDE: Note: pending imminent deprecation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OCDE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_frontend_node_modules_figgy-pudding__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Note: pending imminent deprecation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>This module will be deprecated once npm v7 is released. Please do not rely on it more than absolutely necessary (ie, only if you are depending on it for use with npm v6 internal dependencies).</b></p>
<hr  />
<h1><a class="anchor" id="autotoc_md9853"></a>
figgy-pudding &lt;a href="https://npm.im/figgy-pudding"&gt;&lt;img src="https://img.shields.io/npm/v/figgy-pudding.svg" alt="npm version"/&gt;&lt;/a&gt; &lt;a href="https://npm.im/figgy-pudding"&gt;&lt;img src="https://img.shields.io/npm/l/figgy-pudding.svg" alt="license"/&gt;&lt;/a&gt; &lt;a href="https://travis-ci.org/npm/figgy-pudding"&gt;&lt;img src="https://img.shields.io/travis/npm/figgy-pudding.svg" alt="Travis"/&gt;&lt;/a&gt; &lt;a href="https://coveralls.io/github/npm/figgy-pudding?branch=latest"&gt;&lt;img src="https://coveralls.io/repos/github/npm/figgy-pudding/badge.svg?branch=latest" alt="Coverage Status"/&gt;&lt;/a&gt;</h1>
<p><a href="https://github.com/npm/figgy-pudding"><code>figgy-pudding</code></a> is a small JavaScript library for managing and composing cascading options objects &ndash; hiding what needs to be hidden from each layer, without having to do a lot of manual munging and passing of options.</p>
<h3><a class="anchor" id="autotoc_md9854"></a>
The God Object is Dead!</h3>
<h3><a class="anchor" id="autotoc_md9855"></a>
Now Bring Us Some Figgy Pudding!</h3>
<h2><a class="anchor" id="autotoc_md9856"></a>
Install</h2>
<p><code>$ npm install figgy-pudding</code></p>
<h2><a class="anchor" id="autotoc_md9857"></a>
Table of Contents</h2>
<ul>
<li><a href="#example">Example</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#api">API</a><ul>
<li><a href="#figgy-pudding"><code>figgyPudding(spec)</code></a></li>
<li><a href="#pudding-factory"><code>PuddingFactory(values)</code></a><ul>
<li><a href="#opts-get"><code>opts.get()</code></a></li>
<li><a href="#opts-concat"><code>opts.concat()</code></a></li>
<li><a href="#opts-to-json"><code>opts.toJSON()</code></a></li>
<li><a href="#opts-for-each"><code>opts.forEach()</code></a></li>
<li><a href="#opts-symbol-iterator"><code>opts[Symbol.iterator]()</code></a></li>
<li><a href="#opts-entries"><code>opts.entries()</code></a></li>
<li><a href="#opts-keys"><code>opts.keys()</code></a></li>
<li><a href="#opts-values"><code>opts.value()</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md9858"></a>
Example</h3>
<div class="fragment"><div class="line">// print-package.js</div>
<div class="line">const fetch = require(&#39;./fetch.js&#39;)</div>
<div class="line">const puddin = require(&#39;figgy-pudding&#39;)</div>
<div class="line"> </div>
<div class="line">const PrintOpts = puddin({</div>
<div class="line">  json: { default: false }</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">async function printPkg (name, opts) {</div>
<div class="line">  // Expected pattern is to call this in every interface function. If `opts` is</div>
<div class="line">  // not passed in, it will automatically create an (empty) object for it.</div>
<div class="line">  opts = PrintOpts(opts)</div>
<div class="line">  const uri = `https://registry.npmjs.com/${name}`</div>
<div class="line">  const res = await fetch(uri, opts.concat({</div>
<div class="line">    // Add or override any passed-in configs and pass them down.</div>
<div class="line">    log: customLogger</div>
<div class="line">  }))</div>
<div class="line">  // The following would throw an error, because it&#39;s not in PrintOpts:</div>
<div class="line">  // console.log(opts.log)</div>
<div class="line">  if (opts.json) {</div>
<div class="line">    return res.json()</div>
<div class="line">  } else {</div>
<div class="line">    return res.text()</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">console.log(await printPkg(&#39;figgy&#39;, {</div>
<div class="line">  // Pass in *all* configs at the toplevel, as a regular object.</div>
<div class="line">  json: true,</div>
<div class="line">  cache: &#39;./tmp-cache&#39;</div>
<div class="line">}))</div>
</div><!-- fragment --><div class="fragment"><div class="line">// fetch.js</div>
<div class="line">const puddin = require(&#39;figgy-pudding&#39;)</div>
<div class="line"> </div>
<div class="line">const FetchOpts = puddin({</div>
<div class="line">  log: { default: require(&#39;npmlog&#39;) },</div>
<div class="line">  cache: {}</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">module.exports = async function (..., opts) {</div>
<div class="line">  opts = FetchOpts(opts)</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9859"></a>
Features</h3>
<ul>
<li>hide options from layer that didn't ask for it</li>
<li>shared multi-layer options</li>
<li>make sure <code>opts</code> argument is available</li>
<li>transparent key access like normal keys, through a Proxy. No need for&lt;tt&gt;.get()!</li>
<li>default values</li>
<li>key aliases</li>
<li>arbitrary key filter functions</li>
<li>key/value iteration</li>
<li>serialization</li>
<li>100% test coverage using <code>tap --100</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md9860"></a>
API</h3>
<h4><a class="anchor" id="autotoc_md9861"></a>
&lt;a name="figgy-pudding"&gt;&lt;/a&gt; &lt;tt&gt;&gt; figgyPudding({ key: { default: val } | String }, [opts]) -&gt; PuddingFactory&lt;/tt&gt;</h4>
<p>Defines an Options constructor that can be used to collect only the needed options.</p>
<p>An optional <code>default</code> property for specs can be used to specify default values if nothing was passed in.</p>
<p>If the value for a spec is a string, it will be treated as an alias to that other key.</p>
<p><a class="anchor" id="autotoc_md9862"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const MyAppOpts = figgyPudding({</div>
<div class="line">  lg: &#39;log&#39;,</div>
<div class="line">  log: {</div>
<div class="line">    default: () =&gt; require(&#39;npmlog&#39;)</div>
<div class="line">  },</div>
<div class="line">  cache: {}</div>
<div class="line">})</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9863"></a>
&lt;a name="pudding-factory"&gt;&lt;/a&gt; &lt;tt&gt;&gt; PuddingFactory(...providers) -&gt; FiggyPudding{}&lt;/tt&gt;</h4>
<p>Instantiates an options object defined by <code>figgyPudding()</code>, which uses <code>providers</code>, in order, to find requested properties.</p>
<p>Each provider can be either a plain object, a <code>Map</code>-like object (that is, one with a <code>.get()</code> method) or another figgyPudding <code>Opts</code> object.</p>
<p>When nesting <code>Opts</code> objects, their properties will not become available to the new object, but any further nested <code>Opts</code> that reference that property <em>will</em> be able to read from their grandparent, as long as they define that key. Default values for nested <code>Opts</code> parents will be used, if found.</p>
<p><a class="anchor" id="autotoc_md9864"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const ReqOpts = figgyPudding({</div>
<div class="line">  follow: {}</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">const opts = ReqOpts({</div>
<div class="line">  follow: true,</div>
<div class="line">  log: require(&#39;npmlog&#39;)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">opts.follow // =&gt; true</div>
<div class="line">opts.log // =&gt; Error: ReqOpts does not define `log`</div>
<div class="line"> </div>
<div class="line">const MoreOpts = figgyPudding({</div>
<div class="line">  log: {}</div>
<div class="line">})</div>
<div class="line">MoreOpts(opts).log // =&gt; npmlog object (passed in from original plain obj)</div>
<div class="line">MoreOpts(opts).follow // =&gt; Error: MoreOpts does not define `follow`</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9865"></a>
&lt;a name="opts-get"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts.get(key) -&gt; Value&lt;/tt&gt;</h4>
<p>Gets a value from the options object.</p>
<p><a class="anchor" id="autotoc_md9866"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const opts = MyOpts(config)</div>
<div class="line">opts.get(&#39;foo&#39;) // value of `foo`</div>
<div class="line">opts.foo // Proxy-based access through `.get()`</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9867"></a>
&lt;a name="opts-concat"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts.concat(...moreProviders) -&gt; FiggyPudding{}&lt;/tt&gt;</h4>
<p>Creates a new opts object of the same type as <code>opts</code> with additional providers. Providers further to the right shadow providers to the left, with properties in the original <code>opts</code> being shadows by the new providers.</p>
<p><a class="anchor" id="autotoc_md9868"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const opts = MyOpts({x: 1})</div>
<div class="line">opts.get(&#39;x&#39;) // 1</div>
<div class="line">opts.concat({x: 2}).get(&#39;x&#39;) // 2</div>
<div class="line">opts.get(&#39;x&#39;) // 1 (original opts object left intact)</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9869"></a>
&lt;a name="opts-to-json"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts.toJSON() -&gt; Value&lt;/tt&gt;</h4>
<p>Converts <code>opts</code> to a plain, JSON-stringifiable JavaScript value. Used internally by JavaScript to get <code>JSON.stringify()</code> working.</p>
<p>Only keys that are readable by the current pudding type will be serialized.</p>
<p><a class="anchor" id="autotoc_md9870"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const opts = MyOpts({x: 1})</div>
<div class="line">opts.toJSON() // {x: 1}</div>
<div class="line">JSON.stringify(opts) // &#39;{&quot;x&quot;:1}&#39;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9871"></a>
&lt;a name="opts-for-each"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts.forEach((value, key, opts) =&gt; {}, thisArg) -&gt; undefined&lt;/tt&gt;</h4>
<p>Iterates over the values of <code>opts</code>, limited to the keys readable by the current pudding type. <code>thisArg</code> will be used to set the <code>this</code> argument when calling the <code>fn</code>.</p>
<p><a class="anchor" id="autotoc_md9872"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const opts = MyOpts({x: 1, y: 2})</div>
<div class="line">opts.forEach((value, key) =&gt; console.log(key, &#39;=&#39;, value))</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9873"></a>
&lt;a name="opts-entries"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts.entries() -&gt; Iterator&lt;[[key, value], ...]&gt;&lt;/tt&gt;</h4>
<p>Returns an iterator that iterates over the keys and values in <code>opts</code>, limited to the keys readable by the current pudding type. Each iteration returns an array of <code>[key, value]</code>.</p>
<p><a class="anchor" id="autotoc_md9874"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const opts = MyOpts({x: 1, y: 2})</div>
<div class="line">[...opts({x: 1, y: 2}).entries()] // [[&#39;x&#39;, 1], [&#39;y&#39;, 2]]</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9875"></a>
&lt;a name="opts-symbol-iterator"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts[Symbol.iterator]() -&gt; Iterator&lt;[[key, value], ...]&gt;&lt;/tt&gt;</h4>
<p>Returns an iterator that iterates over the keys and values in <code>opts</code>, limited to the keys readable by the current pudding type. Each iteration returns an array of <code>[key, value]</code>. Makes puddings work natively with JS iteration mechanisms.</p>
<p><a class="anchor" id="autotoc_md9876"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const opts = MyOpts({x: 1, y: 2})</div>
<div class="line">[...opts({x: 1, y: 2})] // [[&#39;x&#39;, 1], [&#39;y&#39;, 2]]</div>
<div class="line">for (let [key, value] of opts({x: 1, y: 2})) {</div>
<div class="line">  console.log(key, &#39;=&#39;, value)</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9877"></a>
&lt;a name="opts-keys"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts.keys() -&gt; Iterator&lt;[key, ...]&gt;&lt;/tt&gt;</h4>
<p>Returns an iterator that iterates over the keys in <code>opts</code>, limited to the keys readable by the current pudding type.</p>
<p><a class="anchor" id="autotoc_md9878"></a></p><h5>Example</h5>
<div class="fragment"><div class="line">const opts = MyOpts({x: 1, y: 2})</div>
<div class="line">[...opts({x: 1, y: 2}).keys()] // [&#39;x&#39;, &#39;y&#39;]</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md9879"></a>
&lt;a name="opts-values"&gt;&lt;/a&gt; &lt;tt&gt;&gt; opts.values() -&gt; Iterator&lt;[value, ...]&gt;&lt;/tt&gt;</h4>
<p>Returns an iterator that iterates over the values in <code>opts</code>, limited to the keys readable by the current pudding type.</p>
<p><a class="anchor" id="autotoc_md9880"></a></p><h5>Example</h5>
<p>' </p><div class="fragment"><div class="line">const opts = MyOpts({x: 1, y: 2})</div>
<div class="line">[...opts({x: 1, y: 2}).values()] // [1, 2]</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
