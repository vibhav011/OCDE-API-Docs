<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OCDE: Adjust Source-map Loader</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OCDE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_frontend_node_modules_adjust-sourcemap-loader_readme.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Adjust Source-map Loader </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="http://github.com/bholloway/adjust-sourcemap-loader"><img src="https://nodei.co/npm/adjust-sourcemap-loader.png" alt="NPM" class="inline"/></a></p>
<p>Webpack loader that adjusts source maps.</p>
<p>Use as a <b>loader</b> to debug source-maps or to adjust source-maps between other loaders.</p>
<p>Use as a <b>module filename template</b> to ensure the final source-map are to your liking.</p>
<h1><a class="anchor" id="autotoc_md2529"></a>
Usage : Loader</h1>
<div class="fragment"><div class="line">require(&#39;adjust-sourcemap?format=absolute!babel?sourceMap&#39;);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2530"></a>
Source maps required</h2>
<p>Note that <b>source maps</b> must be enabled on any preceding loader. In the above example we use <code>babel?sourceMap</code>.</p>
<h2><a class="anchor" id="autotoc_md2531"></a>
Apply via webpack config</h2>
<p>It is preferable to adjust your <code>webpack.config</code> so to avoid having to prefix every <code>require()</code> statement:</p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">  module: {</div>
<div class="line">    loaders: [</div>
<div class="line">      {</div>
<div class="line">        test   : /\.js/,</div>
<div class="line">        loaders: [&#39;adjust-sourcemap?format=absolute&#39;, &#39;babel?sourceMap&#39;]</div>
<div class="line">      }</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2532"></a>
Usage : Module filename template</h1>
<p>Specifying a certain format as the final step in a loader chain will <b>not</b> influence the final source format that Webpack will output. Instead the format is determined by the <b>module filename template</b>.</p>
<p>There are limitations to the filename templating that Webpack provides. This package may also operate as a custom template function that will convert output source-map sources to the desired <code>format</code>.</p>
<p>In the following example we ensure project-relative source-map sources are output.</p>
<div class="fragment"><div class="line">var templateFn = require(&#39;adjust-sourcemap-loader&#39;)</div>
<div class="line">  .moduleFilenameTemplate({</div>
<div class="line">    format: &#39;projectRelative&#39;</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">  output: {</div>
<div class="line">    ...</div>
<div class="line">    devtoolModuleFilenameTemplate        : templateFn,</div>
<div class="line">    devtoolFallbackModuleFilenameTemplate: templateFn</div>
<div class="line">  }</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2533"></a>
Options</h1>
<p>As a loader, options may be set using <a href="https://webpack.github.io/docs/using-loaders.html#query-parameters">query parameters</a> or by using <a href="https://webpack.github.io/docs/how-to-write-a-loader.html#programmable-objects-as-query-option">programmatic parameters</a>. Programmatic means the following in your <code>webpack.config</code>.</p>
<div class="fragment"><div class="line">module.exports = {</div>
<div class="line">   adjustSourcemapLoader: {</div>
<div class="line">      ...</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Where <code>...</code> is a hash of any of the following options.</p>
<ul>
<li>**<code>debug</code>** : <code>boolean|RegExp</code> May be used alone (boolean) or with a <code>RegExp</code> to match the resource(s) you are interested in debugging.</li>
<li>**<code>fail</code>** : <code>boolean</code> Implies an <b>Error</b> if a source-map source cannot be decoded.</li>
<li>**<code>format</code>** : <code>string</code> Optional output format for source-map <code>sources</code>. Must be the name of one of the available <code>codecs</code>. Omitting the format will result in <b>no change</b> and the outgoing source-map will match the incomming one.</li>
<li>**<code>root</code>** : <code>boolean</code> A boolean flag that indices that a <code>sourceRoot</code> path sould be included in the output map. This is contingent on a <code>format</code> being specified.</li>
<li>**<code>codecs</code>** : <code>Array.&lt;{name:string, decode:function, encode:function, root:function}&gt;</code> Optional Array of codecs. There are a number of built-in codecs available. If you specify you own codecs you will loose those that are built-in. However you can include them from the <code>codec/</code> directory.</li>
</ul>
<p>Note that <b>query</b> parameters take precedence over <b>programmatic</b> parameters.</p>
<h2><a class="anchor" id="autotoc_md2534"></a>
Changing the format</h2>
<p>Built-in codecs that may be specified as a <code>format</code> include:</p>
<ul>
<li><code>absolute</code></li>
<li><code>outputRelative</code></li>
<li><code>projectRelative</code></li>
<li><code>webpackProtocol</code></li>
<li><code>sourceRelative</code> (works for loader only, <b>not</b> Module filename template)</li>
</ul>
<h2><a class="anchor" id="autotoc_md2535"></a>
Specifying codecs</h2>
<p>There are additional built-in codecs that do not support encoding. These are still necessary to decode source-map sources. If you specify your own <code>options.codecs</code> then you should <b>also include the built-in codecs</b>. Otherwise you will find that some sources cannot be decoded.</p>
<p>The existing codecs may be found in <code>/codec</code>, or on the loader itself:</p>
<div class="fragment"><div class="line">var inBuiltCodecs = require(&#39;adjust-sourcemap-loader&#39;).codecs,</div>
<div class="line">    myCodecs      = [</div>
<div class="line">      {</div>
<div class="line">        name  : &#39;foo&#39;,</div>
<div class="line">        decode: function(uri) {...},</div>
<div class="line">        encode: function(absolute) {...},</div>
<div class="line">        root  : function() {...}</div>
<div class="line">      },</div>
<div class="line">      ...</div>
<div class="line">    ];</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">   adjustSourcemapLoader: {</div>
<div class="line">      codecs: inBuiltCodecs.concat(myCodecs)</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The codec <b>order is important</b>. Those that come first have precedence. Any codec that detects a distinct URI should be foremost so that illegal paths are not encountered by successive codecs.</p>
<h2><a class="anchor" id="autotoc_md2536"></a>
Abstract codecs</h2>
<p>A codec that detects generated code and cannot <code>decode()</code> a URI to an absolute file path.</p>
<p>Instead of implementing <code>encode()</code> or <code>root()</code> it should instead specify <code>abstract:true</code>. Its <code>decode()</code> function then may return <code>boolean</code> where it detects such generated sources.</p>
<p>For example, a built-in abstract codec will match the <b>Webpack bootstrap</b> code and ensure that its illegal source uri is not encountered by later coders.</p>
<h1><a class="anchor" id="autotoc_md2537"></a>
How it works</h1>
<p>The loader will receive a source map as its second parameter, so long as the preceding loader was using source-maps.</p>
<p>The exception is the <b>css-loader</b> where the source-map is in the content, which is <b>not currently supported</b> .</p>
<p>The source-map <code>sources</code> are parsed by applying <b>codec.decode()</b> functions until one of them returns an absolute path to a file that exists. The exception is abstract codecs, where the source with remain unchanged.</p>
<p>If a format is specified then the source-map <code>sources</code> are recreated by applying the <b>codec.encode()</b> function for the stated <code>format</code> and (where the <code>root</code> option is specified) the <b>codec.root()</b> function will set the source-map <code>sourceRoot</code>.</p>
<p>If a codec does not specify <b>codec.encode()</b> or <b>codec.root()</b> then it may <b>not</b> be used as the <code>format</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
