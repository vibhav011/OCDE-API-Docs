<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OCDE: Node.js: fs-extra</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OCDE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_frontend_node_modules_fs-extra__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Node.js: fs-extra </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>fs-extra</code> adds file system methods that aren't included in the native <code>fs</code> module and adds promise support to the <code>fs</code> methods. It should be a drop in replacement for <code>fs</code>.</p>
<p><a href="https://www.npmjs.org/package/fs-extra"><img src="https://img.shields.io/npm/v/fs-extra.svg?style=flat-square" alt="npm Package" style="pointer-events: none;" class="inline"/></a> <a href="http://travis-ci.org/jprichardson/node-fs-extra"><img src="https://api.travis-ci.org/jprichardson/node-fs-extra.svg" alt="build status" style="pointer-events: none;" class="inline"/></a> <a href="https://ci.appveyor.com/project/jprichardson/node-fs-extra/branch/master"><img src="https://img.shields.io/appveyor/ci/jprichardson/node-fs-extra/master.svg?label=windows%20build" alt="windows Build status" style="pointer-events: none;" class="inline"/></a> <a href="https://www.npmjs.org/package/fs-extra"><img src="http://img.shields.io/npm/dm/fs-extra.svg" alt="downloads per month" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/r/jprichardson/node-fs-extra"><img src="https://img.shields.io/coveralls/jprichardson/node-fs-extra.svg" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://github.com/feross/standard"><img src="https://cdn.rawgit.com/feross/standard/master/sticker.svg" alt="Standard JavaScript" style="pointer-events: none;" width="100" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md10517"></a>
Why?</h1>
<p>I got tired of including <code>mkdirp</code>, <code>rimraf</code>, and <code>ncp</code> in most of my projects.</p>
<h1><a class="anchor" id="autotoc_md10518"></a>
Installation</h1>
<pre class="fragment">npm install --save fs-extra
</pre><h1><a class="anchor" id="autotoc_md10519"></a>
Usage</h1>
<p><code>fs-extra</code> is a drop in replacement for native <code>fs</code>. All methods in <code>fs</code> are attached to <code>fs-extra</code>. All <code>fs</code> methods return promises if the callback isn't passed.</p>
<p>You don't ever need to include the original <code>fs</code> module again:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs&#39;) // this is no longer necessary</div>
</div><!-- fragment --><p>you can now do this:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs-extra&#39;)</div>
</div><!-- fragment --><p>or if you prefer to make it clear that you're using <code>fs-extra</code> and not <code>fs</code>, you may want to name your <code>fs</code> variable <code>fse</code> like so:</p>
<div class="fragment"><div class="line">const fse = require(&#39;fs-extra&#39;)</div>
</div><!-- fragment --><p>you can also keep both, but it's redundant:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs&#39;)</div>
<div class="line">const fse = require(&#39;fs-extra&#39;)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10520"></a>
Sync vs Async</h1>
<p>Most methods are async by default. All async methods will return a promise if the callback isn't passed.</p>
<p>Sync methods on the other hand will throw if an error occurs.</p>
<p>Example:</p>
<div class="fragment"><div class="line">const fs = require(&#39;fs-extra&#39;)</div>
<div class="line"> </div>
<div class="line">// Async with promises:</div>
<div class="line">fs.copy(&#39;/tmp/myfile&#39;, &#39;/tmp/mynewfile&#39;)</div>
<div class="line">  .then(() =&gt; console.log(&#39;success!&#39;))</div>
<div class="line">  .catch(err =&gt; console.error(err))</div>
<div class="line"> </div>
<div class="line">// Async with callbacks:</div>
<div class="line">fs.copy(&#39;/tmp/myfile&#39;, &#39;/tmp/mynewfile&#39;, err =&gt; {</div>
<div class="line">  if (err) return console.error(err)</div>
<div class="line">  console.log(&#39;success!&#39;)</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// Sync:</div>
<div class="line">try {</div>
<div class="line">  fs.copySync(&#39;/tmp/myfile&#39;, &#39;/tmp/mynewfile&#39;)</div>
<div class="line">  console.log(&#39;success!&#39;)</div>
<div class="line">} catch (err) {</div>
<div class="line">  console.error(err)</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10521"></a>
Methods</h1>
<h2><a class="anchor" id="autotoc_md10522"></a>
Async</h2>
<ul>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_copy.html">copy</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_empty_dir.html">emptyDir</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_file.html">ensureFile</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_dir.html">ensureDir</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_link.html">ensureLink</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_symlink.html">ensureSymlink</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_dir.html">mkdirs</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_move.html">move</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_output_file.html">outputFile</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_output_json.html">outputJson</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_path_exists.html">pathExists</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_read_json.html">readJson</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_remove.html">remove</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_write_json.html">writeJson</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md10523"></a>
Sync</h2>
<ul>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_copy-sync.html">copySync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_empty_dir-sync.html">emptyDirSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_file-sync.html">ensureFileSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_dir-sync.html">ensureDirSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_link-sync.html">ensureLinkSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_symlink-sync.html">ensureSymlinkSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_ensure_dir-sync.html">mkdirsSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_move-sync.html">moveSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_output_file-sync.html">outputFileSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_output_json-sync.html">outputJsonSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_path_exists-sync.html">pathExistsSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_read_json-sync.html">readJsonSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_remove-sync.html">removeSync</a></li>
<li><a class="el" href="md_frontend_node_modules_fs-extra_docs_write_json-sync.html">writeJsonSync</a></li>
</ul>
<p><b>NOTE:</b> You can still use the native Node.js methods. They are promisified and copied over to <code>fs-extra</code>. See <a class="el" href="md_frontend_node_modules_fs-extra_docs_fs-read-write.html">notes on `fs.read()` &amp; `fs.write()`</a></p>
<h2><a class="anchor" id="autotoc_md10524"></a>
What happened to &lt;tt&gt;walk()&lt;/tt&gt; and &lt;tt&gt;walkSync()&lt;/tt&gt;?</h2>
<p>They were removed from <code>fs-extra</code> in v2.0.0. If you need the functionality, <code>walk</code> and <code>walkSync</code> are available as separate packages, <a href="https://github.com/jprichardson/node-klaw"><code>klaw</code></a> and <a href="https://github.com/manidlou/node-klaw-sync"><code>klaw-sync</code></a>.</p>
<h1><a class="anchor" id="autotoc_md10525"></a>
Third Party</h1>
<h2><a class="anchor" id="autotoc_md10526"></a>
TypeScript</h2>
<p>If you like TypeScript, you can use <code>fs-extra</code> with it: <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/fs-extra">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/fs-extra</a></p>
<h2><a class="anchor" id="autotoc_md10527"></a>
File / Directory Watching</h2>
<p>If you want to watch for changes to files or directories, then you should use <a href="https://github.com/paulmillr/chokidar">chokidar</a>.</p>
<h2><a class="anchor" id="autotoc_md10528"></a>
Misc.</h2>
<ul>
<li><a href="https://github.com/cadorn/mfs">mfs</a> - Monitor your fs-extra calls.</li>
</ul>
<h1><a class="anchor" id="autotoc_md10529"></a>
Hacking on fs-extra</h1>
<p>Wanna hack on <code>fs-extra</code>? Great! Your help is needed! <a href="http://nodei.co/npm/fs-extra.png?downloads=true&amp;downloadRank=true&amp;stars=true">fs-extra is one of the most depended upon Node.js packages</a>. This project uses <a href="https://github.com/feross/standard">JavaScript Standard Style</a> - if the name or style choices bother you, you're gonna have to get over it :) If <code>standard</code> is good enough for <code>npm</code>, it's good enough for <code>fs-extra</code>.</p>
<p><a href="https://github.com/feross/standard"><img src="https://cdn.rawgit.com/feross/standard/master/badge.svg" alt="js-standard-style" style="pointer-events: none;" class="inline"/></a></p>
<p>What's needed?</p><ul>
<li>First, take a look at existing issues. Those are probably going to be where the priority lies.</li>
<li>More tests for edge cases. Specifically on different platforms. There can never be enough tests.</li>
<li>Improve test coverage. See coveralls output for more info.</li>
</ul>
<p>Note: If you make any big changes, <b>you should definitely file an issue for discussion first.</b></p>
<h2><a class="anchor" id="autotoc_md10530"></a>
Running the Test Suite</h2>
<p>fs-extra contains hundreds of tests.</p>
<ul>
<li><code>npm run lint</code>: runs the linter (<a href="http://standardjs.com/">standard</a>)</li>
<li><code>npm run unit</code>: runs the unit tests</li>
<li><code>npm test</code>: runs both the linter and the tests</li>
</ul>
<h2><a class="anchor" id="autotoc_md10531"></a>
Windows</h2>
<p>If you run the tests on the Windows and receive a lot of symbolic link <code>EPERM</code> permission errors, it's because on Windows you need elevated privilege to create symbolic links. You can add this to your Windows's account by following the instructions here: <a href="http://superuser.com/questions/104845/permission-to-make-symbolic-links-in-windows-7">http://superuser.com/questions/104845/permission-to-make-symbolic-links-in-windows-7</a> However, I didn't have much luck doing this.</p>
<p>Since I develop on Mac OS X, I use VMWare Fusion for Windows testing. I create a shared folder that I map to a drive on Windows. I open the <code>Node.js command prompt</code> and run as <code>Administrator</code>. I then map the network drive running the following command: </p><pre class="fragment">net use z: "\\vmware-host\Shared Folders"
</pre><p>I can then navigate to my <code>fs-extra</code> directory and run the tests.</p>
<h1><a class="anchor" id="autotoc_md10532"></a>
Naming</h1>
<p>I put a lot of thought into the naming of these functions. Inspired by @coolaj86's request. So he deserves much of the credit for raising the issue. See discussion(s) here:</p>
<ul>
<li><a href="https://github.com/jprichardson/node-fs-extra/issues/2">https://github.com/jprichardson/node-fs-extra/issues/2</a></li>
<li><a href="https://github.com/flatiron/utile/issues/11">https://github.com/flatiron/utile/issues/11</a></li>
<li><a href="https://github.com/ryanmcgrath/wrench-js/issues/29">https://github.com/ryanmcgrath/wrench-js/issues/29</a></li>
<li><a href="https://github.com/substack/node-mkdirp/issues/17">https://github.com/substack/node-mkdirp/issues/17</a></li>
</ul>
<p>First, I believe that in as many cases as possible, the <a href="http://nodejs.org/api/fs.html">Node.js naming schemes</a> should be chosen. However, there are problems with the Node.js own naming schemes.</p>
<p>For example, <code>fs.readFile()</code> and <code>fs.readdir()</code>: the <b>F</b> is capitalized in <em>File</em> and the <b>d</b> is not capitalized in <em>dir</em>. Perhaps a bit pedantic, but they should still be consistent. Also, Node.js has chosen a lot of POSIX naming schemes, which I believe is great. See: <code>fs.mkdir()</code>, <code>fs.rmdir()</code>, <code>fs.chown()</code>, etc.</p>
<p>We have a dilemma though. How do you consistently name methods that perform the following POSIX commands: <code>cp</code>, <code>cp -r</code>, <code>mkdir -p</code>, and <code>rm -rf</code>?</p>
<p>My perspective: when in doubt, err on the side of simplicity. A directory is just a hierarchical grouping of directories and files. Consider that for a moment. So when you want to copy it or remove it, in most cases you'll want to copy or remove all of its contents. When you want to create a directory, if the directory that it's suppose to be contained in does not exist, then in most cases you'll want to create that too.</p>
<p>So, if you want to remove a file or a directory regardless of whether it has contents, just call <code>fs.remove(path)</code>. If you want to copy a file or a directory whether it has contents, just call <code>fs.copy(source, destination)</code>. If you want to create a directory regardless of whether its parent directories exist, just call <code>fs.mkdirs(path)</code> or <code>fs.mkdirp(path)</code>.</p>
<h1><a class="anchor" id="autotoc_md10533"></a>
Credit</h1>
<p><code>fs-extra</code> wouldn't be possible without using the modules from the following authors:</p>
<ul>
<li><a href="https://github.com/isaacs">Isaac Shlueter</a></li>
<li><a href="https://github.com/avianflu">Charlie McConnel</a></li>
<li><a href="https://github.com/substack">James Halliday</a></li>
<li><a href="https://github.com/andrewrk">Andrew Kelley</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md10534"></a>
License</h1>
<p>Licensed under MIT</p>
<p>Copyright (c) 2011-2017 <a href="https://github.com/jprichardson">JP Richardson</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
