<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OCDE: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OCDE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_frontend_node_modules_connect__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div align="center"></div><div align="center"><img src="logo/horizontal.png" alt="connect logo" width="450px" class="inline"/></div><div align="center"><a href="https://npmjs.org/package/connect"><img src="https://badgen.net/npm/v/connect" alt="NPM Version" class="inline"/></a> <a href="https://npmjs.org/package/connect"><img src="https://badgen.net/npm/dm/connect" alt="NPM Downloads" class="inline"/></a> <a href="https://travis-ci.org/senchalabs/connect"><img src="https://badgen.net/travis/senchalabs/connect/master" alt="Build Status" class="inline"/></a> <a href="https://coveralls.io/r/senchalabs/connect?branch=master"><img src="https://badgen.net/coveralls/c/github/senchalabs/connect/master" alt="Test Coverage" class="inline"/></a></div><div align="center"></div><p>Connect is an extensible HTTP server framework for <a href="http://nodejs.org">node</a> using "plugins" known as <em>middleware</em>.</p>
<div class="fragment"><div class="line">var connect = require(&#39;connect&#39;);</div>
<div class="line">var http = require(&#39;http&#39;);</div>
<div class="line"> </div>
<div class="line">var app = connect();</div>
<div class="line"> </div>
<div class="line">// gzip/deflate outgoing responses</div>
<div class="line">var compression = require(&#39;compression&#39;);</div>
<div class="line">app.use(compression());</div>
<div class="line"> </div>
<div class="line">// store session state in browser cookie</div>
<div class="line">var cookieSession = require(&#39;cookie-session&#39;);</div>
<div class="line">app.use(cookieSession({</div>
<div class="line">    keys: [&#39;secret1&#39;, &#39;secret2&#39;]</div>
<div class="line">}));</div>
<div class="line"> </div>
<div class="line">// parse urlencoded request bodies into req.body</div>
<div class="line">var bodyParser = require(&#39;body-parser&#39;);</div>
<div class="line">app.use(bodyParser.urlencoded({extended: false}));</div>
<div class="line"> </div>
<div class="line">// respond to all requests</div>
<div class="line">app.use(function(req, res){</div>
<div class="line">  res.end(&#39;Hello from Connect!\n&#39;);</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">//create node.js http server and listen on port</div>
<div class="line">http.createServer(app).listen(3000);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5935"></a>
Getting Started</h2>
<p>Connect is a simple framework to glue together various "middleware" to handle requests.</p>
<h3><a class="anchor" id="autotoc_md5936"></a>
Install Connect</h3>
<div class="fragment"><div class="line">$ npm install connect</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5937"></a>
Create an app</h3>
<p>The main component is a Connect "app". This will store all the middleware added and is, itself, a function.</p>
<div class="fragment"><div class="line">var app = connect();</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5938"></a>
Use middleware</h3>
<p>The core of Connect is "using" middleware. Middleware are added as a "stack" where incoming requests will execute each middleware one-by-one until a middleware does not call <code>next()</code> within it.</p>
<div class="fragment"><div class="line">app.use(function middleware1(req, res, next) {</div>
<div class="line">  // middleware 1</div>
<div class="line">  next();</div>
<div class="line">});</div>
<div class="line">app.use(function middleware2(req, res, next) {</div>
<div class="line">  // middleware 2</div>
<div class="line">  next();</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5939"></a>
Mount middleware</h3>
<p>The <code>.<a class="el" href="_0dangular_2compiler-cli_2node__modules_2cliui_2_l_i_c_e_n_s_e_8txt.html#a6617cfb55e132d069e64bdfdbea31e1c">use()</a></code> method also takes an optional path string that is matched against the beginning of the incoming request URL. This allows for basic routing.</p>
<div class="fragment"><div class="line">app.use(&#39;/foo&#39;, function fooMiddleware(req, res, next) {</div>
<div class="line">  // req.url starts with &quot;/foo&quot;</div>
<div class="line">  next();</div>
<div class="line">});</div>
<div class="line">app.use(&#39;/bar&#39;, function barMiddleware(req, res, next) {</div>
<div class="line">  // req.url starts with &quot;/bar&quot;</div>
<div class="line">  next();</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5940"></a>
Error middleware</h3>
<p>There are special cases of "error-handling" middleware. There are middleware where the function takes exactly 4 arguments. When a middleware passes an error to <code>next</code>, the app will proceed to look for the error middleware that was declared after that middleware and invoke it, skipping any error middleware above that middleware and any non-error middleware below.</p>
<div class="fragment"><div class="line">// regular middleware</div>
<div class="line">app.use(function (req, res, next) {</div>
<div class="line">  // i had an error</div>
<div class="line">  next(new Error(&#39;boom!&#39;));</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// error middleware for errors that occurred in middleware</div>
<div class="line">// declared before this</div>
<div class="line">app.use(function onerror(err, req, res, next) {</div>
<div class="line">  // an error occurred!</div>
<div class="line">});</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5941"></a>
Create a server from the app</h3>
<p>The last step is to actually use the Connect app in a server. The <code>.listen()</code> method is a convenience to start a HTTP server (and is identical to the <code>http.Server</code>'s <code>listen</code> method in the version of Node.js you are running).</p>
<div class="fragment"><div class="line">var server = app.listen(port);</div>
</div><!-- fragment --><p>The app itself is really just a function with three arguments, so it can also be handed to <code>.createServer()</code> in Node.js.</p>
<div class="fragment"><div class="line">var server = http.createServer(app);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5942"></a>
Middleware</h2>
<p>These middleware and libraries are officially supported by the Connect/Express team:</p>
<ul>
<li><a href="https://www.npmjs.com/package/body-parser">body-parser</a> - previous <code>bodyParser</code>, <code>json</code>, and <code>urlencoded</code>. You may also be interested in:<ul>
<li><a href="https://www.npmjs.com/package/body">body</a></li>
<li><a href="https://www.npmjs.com/package/co-body">co-body</a></li>
<li><a href="https://www.npmjs.com/package/raw-body">raw-body</a></li>
</ul>
</li>
<li><a href="https://www.npmjs.com/package/compression">compression</a> - previously <code>compress</code></li>
<li><a href="https://www.npmjs.com/package/connect-timeout">connect-timeout</a> - previously <code>timeout</code></li>
<li><a href="https://www.npmjs.com/package/cookie-parser">cookie-parser</a> - previously <code>cookieParser</code></li>
<li><a href="https://www.npmjs.com/package/cookie-session">cookie-session</a> - previously <code>cookieSession</code></li>
<li><a href="https://www.npmjs.com/package/csurf">csurf</a> - previously <code>csrf</code></li>
<li><a href="https://www.npmjs.com/package/errorhandler">errorhandler</a> - previously <code>error-handler</code></li>
<li><a href="https://www.npmjs.com/package/express-session">express-session</a> - previously <code>session</code></li>
<li><a href="https://www.npmjs.com/package/method-override">method-override</a> - previously <code>method-override</code></li>
<li><a href="https://www.npmjs.com/package/morgan">morgan</a> - previously <code>logger</code></li>
<li><a href="https://www.npmjs.com/package/response-time">response-time</a> - previously <code>response-time</code></li>
<li><a href="https://www.npmjs.com/package/serve-favicon">serve-favicon</a> - previously <code>favicon</code></li>
<li><a href="https://www.npmjs.com/package/serve-index">serve-index</a> - previously <code>directory</code></li>
<li><a href="https://www.npmjs.com/package/serve-static">serve-static</a> - previously <code>static</code></li>
<li><a href="https://www.npmjs.com/package/vhost">vhost</a> - previously <code>vhost</code></li>
</ul>
<p>Most of these are exact ports of their Connect 2.x equivalents. The primary exception is <code>cookie-session</code>.</p>
<p>Some middleware previously included with Connect are no longer supported by the Connect/Express team, are replaced by an alternative module, or should be superseded by a better module. Use one of these alternatives instead:</p>
<ul>
<li><code>cookieParser</code><ul>
<li><a href="https://www.npmjs.com/package/cookies">cookies</a> and <a href="https://www.npmjs.com/package/keygrip">keygrip</a></li>
</ul>
</li>
<li><code>limit</code><ul>
<li><a href="https://www.npmjs.com/package/raw-body">raw-body</a></li>
</ul>
</li>
<li><code>multipart</code><ul>
<li><a href="https://www.npmjs.com/package/connect-multiparty">connect-multiparty</a></li>
<li><a href="https://www.npmjs.com/package/connect-busboy">connect-busboy</a></li>
</ul>
</li>
<li><code>query</code><ul>
<li><a href="https://www.npmjs.com/package/qs">qs</a></li>
</ul>
</li>
<li><code>staticCache</code><ul>
<li><a href="https://www.npmjs.com/package/st">st</a></li>
<li><a href="https://www.npmjs.com/package/connect-static">connect-static</a></li>
</ul>
</li>
</ul>
<p>Checkout <a href="https://github.com/Raynos/http-framework/wiki/Modules">http-framework</a> for many other compatible middleware!</p>
<h2><a class="anchor" id="autotoc_md5943"></a>
API</h2>
<p>The Connect API is very minimalist, enough to create an app and add a chain of middleware.</p>
<p>When the <code>connect</code> module is required, a function is returned that will construct a new app when called.</p>
<div class="fragment"><div class="line">// require module</div>
<div class="line">var connect = require(&#39;connect&#39;)</div>
<div class="line"> </div>
<div class="line">// create app</div>
<div class="line">var app = connect()</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5944"></a>
app(req, res[, next])</h3>
<p>The <code>app</code> itself is a function. This is just an alias to <code>app.handle</code>.</p>
<h3><a class="anchor" id="autotoc_md5945"></a>
app.handle(req, res[, out])</h3>
<p>Calling the function will run the middleware stack against the given Node.js http request (<code>req</code>) and response (<code>res</code>) objects. An optional function <code>out</code> can be provided that will be called if the request (or error) was not handled by the middleware stack.</p>
<h3><a class="anchor" id="autotoc_md5946"></a>
app.listen([...])</h3>
<p>Start the app listening for requests. This method will internally create a Node.js HTTP server and call <code>.listen()</code> on it.</p>
<p>This is an alias to the <code>server.listen()</code> method in the version of Node.js running, so consult the Node.js documentation for all the different variations. The most common signature is <a href="https://nodejs.org/dist/latest-v6.x/docs/api/http.html#http_server_listen_port_hostname_backlog_callback"><code>app.listen(port)</code></a>.</p>
<h3><a class="anchor" id="autotoc_md5947"></a>
app.use(fn)</h3>
<p>Use a function on the app, where the function represents a middleware. The function will be invoked for every request in the order that <code>app.use</code> is called. The function is called with three arguments:</p>
<div class="fragment"><div class="line">app.use(function (req, res, next) {</div>
<div class="line">  // req is the Node.js http request object</div>
<div class="line">  // res is the Node.js http response object</div>
<div class="line">  // next is a function to call to invoke the next middleware</div>
<div class="line">})</div>
</div><!-- fragment --><p>In addition to a plan function, the <code>fn</code> argument can also be a Node.js HTTP server instance or another Connect app instance.</p>
<h3><a class="anchor" id="autotoc_md5948"></a>
app.use(route, fn)</h3>
<p>Use a function on the app, where the function represents a middleware. The function will be invoked for every request in which the URL (<code>req.url</code> property) starts with the given <code>route</code> string in the order that <code>app.use</code> is called. The function is called with three arguments:</p>
<div class="fragment"><div class="line">app.use(&#39;/foo&#39;, function (req, res, next) {</div>
<div class="line">  // req is the Node.js http request object</div>
<div class="line">  // res is the Node.js http response object</div>
<div class="line">  // next is a function to call to invoke the next middleware</div>
<div class="line">})</div>
</div><!-- fragment --><p>In addition to a plan function, the <code>fn</code> argument can also be a Node.js HTTP server instance or another Connect app instance.</p>
<p>The <code>route</code> is always terminated at a path separator (<code>/</code>) or a dot (<code>.</code>) character. This means the given routes <code>/foo/</code> and <code>/foo</code> are the same and both will match requests with the URLs <code>/foo</code>, <code>/foo/</code>, <code>/foo/bar</code>, and <code>/foo.bar</code>, but not match a request with the URL <code>/foobar</code>.</p>
<p>The <code>route</code> is matched in a case-insensitive manor.</p>
<p>In order to make middleware easier to write to be agnostic of the <code>route</code>, when the <code>fn</code> is invoked, the <code>req.url</code> will be altered to remove the <code>route</code> part (and the original will be available as <code>req.originalUrl</code>). For example, if <code>fn</code> is used at the route <code>/foo</code>, the request for <code>/foo/bar</code> will invoke <code>fn</code> with &lsquo;req.url === &rsquo;/bar'<code> and</code>req.originalUrl === '/foo/bar'`.</p>
<h2><a class="anchor" id="autotoc_md5949"></a>
Running Tests</h2>
<div class="fragment"><div class="line">npm install</div>
<div class="line">npm test</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5950"></a>
People</h2>
<p>The Connect project would not be the same without all the people involved.</p>
<p>The original author of Connect is <a href="https://github.com/tj">TJ Holowaychuk</a></p>
<p>The current lead maintainer is <a href="https://github.com/dougwilson">Douglas Christopher Wilson</a></p>
<p><a href="https://github.com/senchalabs/connect/graphs/contributors">List of all contributors</a></p>
<h2><a class="anchor" id="autotoc_md5951"></a>
Node Compatibility</h2>
<ul>
<li>Connect <code>&lt; 1.x</code> - node <code>0.2</code></li>
<li>Connect <code>1.x</code> - node <code>0.4</code></li>
<li>Connect <code>&lt; 2.8</code> - node <code>0.6</code></li>
<li>Connect <code>&gt;= 2.8 &lt; 3</code> - node <code>0.8</code></li>
<li>Connect <code>&gt;= 3</code> - node <code>0.10</code>, <code>0.12</code>, <code>4.x</code>, <code>5.x</code>, <code>6.x</code>, <code>7.x</code>, <code>8.x</code>, <code>9.x</code>, <code>10.x</code>, <code>11.x</code>, <code>12.x</code>; io.js <code>1.x</code>, <code>2.x</code>, <code>3.x</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md5952"></a>
License</h2>
<p>[MIT](LICENSE) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
