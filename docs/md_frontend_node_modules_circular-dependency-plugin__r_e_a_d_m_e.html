<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OCDE: Circular Dependency Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OCDE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_frontend_node_modules_circular-dependency-plugin__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Circular Dependency Plugin </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Detect modules with circular dependencies when bundling with webpack.</p>
<p>Circular dependencies are often a necessity in complex software, the presence of a circular dependency doesn't always imply a bug, but in the case where you believe a bug exists, this module may help find it.</p>
<h2><a class="anchor" id="autotoc_md4901"></a>
Webpack Versions</h2>
<p>The latest major version of this plugin <code>5</code>, supports webpack <code>4.0.1</code> and greater as a peer dependency. Major version <code>4</code> of this plugin and below are intended to support webpack <code>3.x.x</code> and below as a peer dependency.</p>
<h2><a class="anchor" id="autotoc_md4902"></a>
Basic Usage</h2>
<div class="fragment"><div class="line">// webpack.config.js</div>
<div class="line">const CircularDependencyPlugin = require(&#39;circular-dependency-plugin&#39;)</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">  entry: &quot;./src/index&quot;,</div>
<div class="line">  plugins: [</div>
<div class="line">    new CircularDependencyPlugin({</div>
<div class="line">      // exclude detection of files based on a RegExp</div>
<div class="line">      exclude: /a\.js|node_modules/,</div>
<div class="line">      // include specific files based on a RegExp</div>
<div class="line">      include: /dir/,</div>
<div class="line">      // add errors to webpack instead of warnings</div>
<div class="line">      failOnError: true,</div>
<div class="line">      // allow import cycles that include an asyncronous import,</div>
<div class="line">      // e.g. via import(/* webpackMode: &quot;weak&quot; */ &#39;./file.js&#39;)</div>
<div class="line">      allowAsyncCycles: false,</div>
<div class="line">      // set the current working directory for displaying module paths</div>
<div class="line">      cwd: process.cwd(),</div>
<div class="line">    })</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4903"></a>
Advanced Usage</h2>
<div class="fragment"><div class="line">// webpack.config.js</div>
<div class="line">const CircularDependencyPlugin = require(&#39;circular-dependency-plugin&#39;)</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">  entry: &quot;./src/index&quot;,</div>
<div class="line">  plugins: [</div>
<div class="line">    new CircularDependencyPlugin({</div>
<div class="line">      // `onStart` is called before the cycle detection starts</div>
<div class="line">      onStart({ compilation }) {</div>
<div class="line">        console.log(&#39;start detecting webpack modules cycles&#39;);</div>
<div class="line">      },</div>
<div class="line">      // `onDetected` is called for each module that is cyclical</div>
<div class="line">      onDetected({ module: webpackModuleRecord, paths, compilation }) {</div>
<div class="line">        // `paths` will be an Array of the relative module paths that make up the cycle</div>
<div class="line">        // `module` will be the module record generated by webpack that caused the cycle</div>
<div class="line">        compilation.errors.push(new Error(paths.join(&#39; -&gt; &#39;)))</div>
<div class="line">      },</div>
<div class="line">      // `onEnd` is called before the cycle detection ends</div>
<div class="line">      onEnd({ compilation }) {</div>
<div class="line">        console.log(&#39;end detecting webpack modules cycles&#39;);</div>
<div class="line">      },</div>
<div class="line">    })</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>If you have some number of cycles and want to fail if any new ones are introduced, you can use the life cycle methods to count and fail when the count is exceeded. (Note if you care about detecting a cycle being replaced by another, this won't catch that.)</p>
<div class="fragment"><div class="line">// webpack.config.js</div>
<div class="line">const CircularDependencyPlugin = require(&#39;circular-dependency-plugin&#39;)</div>
<div class="line"> </div>
<div class="line">const MAX_CYCLES = 5;</div>
<div class="line">let numCyclesDetected = 0;</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line">  entry: &quot;./src/index&quot;,</div>
<div class="line">  plugins: [</div>
<div class="line">    new CircularDependencyPlugin({</div>
<div class="line">      onStart({ compilation }) {</div>
<div class="line">        numCyclesDetected = 0;</div>
<div class="line">      },</div>
<div class="line">      onDetected({ module: webpackModuleRecord, paths, compilation }) {</div>
<div class="line">        numCyclesDetected++;</div>
<div class="line">        compilation.warnings.push(new Error(paths.join(&#39; -&gt; &#39;)))</div>
<div class="line">      },</div>
<div class="line">      onEnd({ compilation }) {</div>
<div class="line">        if (numCyclesDetected &gt; MAX_CYCLES) {</div>
<div class="line">          compilation.errors.push(new Error(</div>
<div class="line">            `Detected ${numCyclesDetected} cycles which exceeds configured limit of ${MAX_CYCLES}`</div>
<div class="line">          ));</div>
<div class="line">        }</div>
<div class="line">      },</div>
<div class="line">    })</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4904"></a>
Maintenance</h2>
<p>This module is maintained despite few changes being necessary, please open issues if you find any bugs relating to integration with webpack core. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
