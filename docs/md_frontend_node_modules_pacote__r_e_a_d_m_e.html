<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OCDE: pacote &lt;a href=&quot;https://npm.im/pacote&quot;&gt;&lt;img src=&quot;https://img.shields.io/npm/v/pacote.svg&quot; alt=&quot;npm version&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://npm.im/pacote&quot;&gt;&lt;img src=&quot;https://img.shields.io/npm/l/pacote.svg&quot; alt=&quot;license&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://travis-ci.org/npm/pacote&quot;&gt;&lt;img src=&quot;https://img.shields.io/travis/npm/pacote.svg&quot; alt=&quot;Travis&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://ci.appveyor.com/project/npm/pacote&quot;&gt;&lt;img src=&quot;https://ci.appveyor.com/api/projects/status/github/npm/pacote?svg=true&quot; alt=&quot;AppVeyor&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://coveralls.io/github/npm/pacote?branch=latest&quot;&gt;&lt;img src=&quot;https://coveralls.io/repos/github/npm/pacote/badge.svg?branch=latest&quot; alt=&quot;Coverage Status&quot;/&gt;&lt;/a&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OCDE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_frontend_node_modules_pacote__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">pacote <a href="https://npm.im/pacote"><img src="https://img.shields.io/npm/v/pacote.svg" alt="npm version" style="pointer-events: none;" class="inline"/></a> <a href="https://npm.im/pacote"><img src="https://img.shields.io/npm/l/pacote.svg" alt="license" style="pointer-events: none;" class="inline"/></a> <a href="https://travis-ci.org/npm/pacote"><img src="https://img.shields.io/travis/npm/pacote.svg" alt="Travis" style="pointer-events: none;" class="inline"/></a> <a href="https://ci.appveyor.com/project/npm/pacote"><img src="https://ci.appveyor.com/api/projects/status/github/npm/pacote?svg=true" alt="AppVeyor" class="inline"/></a> <a href="https://coveralls.io/github/npm/pacote?branch=latest"><img src="https://coveralls.io/repos/github/npm/pacote/badge.svg?branch=latest" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/npm/pacote"><code>pacote</code></a> is a Node.js library for downloading <a href="https://npmjs.org">npm</a>-compatible packages. It supports all package specifier syntax that <code>npm install</code> and its ilk support. It transparently caches anything needed to reduce excess operations, using <a href="https://npm.im/cacache"><code>cacache</code></a>.</p>
<h1><a class="anchor" id="autotoc_md19325"></a>
Install</h1>
<p><code>$ npm install --save pacote</code></p>
<h1><a class="anchor" id="autotoc_md19326"></a>
Table of Contents</h1>
<ul>
<li><a href="#example">Example</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#api">API</a><ul>
<li><a href="#manifest"><code>manifest</code></a></li>
<li><a href="#packument"><code>packument</code></a></li>
<li><a href="#extract"><code>extract</code></a></li>
<li><a href="#tarball"><code>tarball</code></a></li>
<li><a href="#tarball-stream"><code>tarball.stream</code></a></li>
<li><a href="#tarball-to-file"><code>tarball.toFile</code></a></li>
<li>~~<a href="#prefetch"><code>prefetch</code></a>~~ (deprecated)</li>
<li><a href="#clearMemoized"><code>clearMemoized</code></a></li>
<li><a href="#options"><code>options</code></a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md19327"></a>
Example</h2>
<div class="fragment"><div class="line">const pacote = require(&#39;pacote&#39;)</div>
<div class="line"> </div>
<div class="line">pacote.manifest(&#39;pacote@^1&#39;).then(pkg =&gt; {</div>
<div class="line">  console.log(&#39;package manifest for registry pkg:&#39;, pkg)</div>
<div class="line">  // { &quot;name&quot;: &quot;pacote&quot;, &quot;version&quot;: &quot;1.0.0&quot;, ... }</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">pacote.extract(&#39;http://hi.com/pkg.tgz&#39;, &#39;./here&#39;).then(() =&gt; {</div>
<div class="line">  console.log(&#39;remote tarball contents extracted to ./here&#39;)</div>
<div class="line">})</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19328"></a>
Features</h2>
<ul>
<li>Handles all package types <a href="https://npm.im/npm">npm</a> does</li>
<li><a href="https://npm.im/cacache">high-performance, reliable, verified local cache</a></li>
<li>offline mode</li>
<li>authentication support (private git, private npm registries, etc)</li>
<li>github, gitlab, and bitbucket-aware</li>
<li>semver range support for git dependencies</li>
</ul>
<h2><a class="anchor" id="autotoc_md19329"></a>
Contributing</h2>
<p>The pacote team enthusiastically welcomes contributions and project participation! There's a bunch of things you can do if you want to contribute! The <a class="el" href="webdriver-js-extender_2_c_o_n_t_r_i_b_u_t_i_n_g_8md.html">Contributor Guide</a> has all the information you need for everything from reporting bugs to contributing entire new features. Please don't hesitate to jump in if you'd like to, or even ask us questions if something isn't clear.</p>
<h2><a class="anchor" id="autotoc_md19330"></a>
API</h2>
<h3><a class="anchor" id="autotoc_md19331"></a>
&lt;a name="manifest"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.manifest(spec, [opts])&lt;/tt&gt;</h3>
<p>Fetches the <em>manifest</em> for a package. Manifest objects are similar and based on the <code>package.json</code> for that package, but with pre-processed and limited fields. The object has the following shape:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;name&quot;: PkgName,</div>
<div class="line">  &quot;version&quot;: SemverString,</div>
<div class="line">  &quot;dependencies&quot;: { PkgName: SemverString },</div>
<div class="line">  &quot;optionalDependencies&quot;: { PkgName: SemverString },</div>
<div class="line">  &quot;devDependencies&quot;: { PkgName: SemverString },</div>
<div class="line">  &quot;peerDependencies&quot;: { PkgName: SemverString },</div>
<div class="line">  &quot;bundleDependencies&quot;: false || [PkgName],</div>
<div class="line">  &quot;bin&quot;: { BinName: Path },</div>
<div class="line">  &quot;_resolved&quot;: TarballSource, // different for each package type</div>
<div class="line">  &quot;_integrity&quot;: SubresourceIntegrityHash,</div>
<div class="line">  &quot;_shrinkwrap&quot;: null || ShrinkwrapJsonObj</div>
<div class="line">}</div>
</div><!-- fragment --><p>Note that depending on the spec type, some additional fields might be present. For example, packages from <code>registry.npmjs.org</code> have additional metadata appended by the registry.</p>
<h4><a class="anchor" id="autotoc_md19332"></a>
Example</h4>
<div class="fragment"><div class="line">pacote.manifest(&#39;pacote@1.0.0&#39;).then(pkgJson =&gt; {</div>
<div class="line">  // fetched `package.json` data from the registry</div>
<div class="line">})</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19333"></a>
&lt;a name="packument"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.packument(spec, [opts])&lt;/tt&gt;</h3>
<p>Fetches the <em>packument</em> for a package. Packument objects are general metadata about a project corresponding to registry metadata, and include version and <code>dist-tag</code> information about a package's available versions, rather than a specific version. It may include additional metadata not usually available through the individual package metadata objects.</p>
<p>It generally looks something like this:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;name&quot;: PkgName,</div>
<div class="line">  &quot;dist-tags&quot;: {</div>
<div class="line">    &#39;latest&#39;: VersionString,</div>
<div class="line">    [TagName]: VersionString,</div>
<div class="line">    ...</div>
<div class="line">  },</div>
<div class="line">  &quot;versions&quot;: {</div>
<div class="line">    [VersionString]: Manifest,</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Note that depending on the spec type, some additional fields might be present. For example, packages from <code>registry.npmjs.org</code> have additional metadata appended by the registry.</p>
<h4><a class="anchor" id="autotoc_md19334"></a>
Example</h4>
<div class="fragment"><div class="line">pacote.packument(&#39;pacote&#39;).then(pkgJson =&gt; {</div>
<div class="line">  // fetched package versions metadata from the registry</div>
<div class="line">})</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19335"></a>
&lt;a name="extract"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.extract(spec, destination, [opts])&lt;/tt&gt;</h3>
<p>Extracts package data identified by <code>&lt;spec&gt;</code> into a directory named <code>&lt;destination&gt;</code>, which will be created if it does not already exist.</p>
<p>If <code>opts.digest</code> is provided and the data it identifies is present in the cache, <code>extract</code> will bypass most of its operations and go straight to extracting the tarball.</p>
<h4><a class="anchor" id="autotoc_md19336"></a>
Example</h4>
<div class="fragment"><div class="line">pacote.extract(&#39;pacote@1.0.0&#39;, &#39;./woot&#39;, {</div>
<div class="line">  digest: &#39;deadbeef&#39;</div>
<div class="line">}).then(() =&gt; {</div>
<div class="line">  // Succeeds as long as `pacote@1.0.0` still exists somewhere. Network and</div>
<div class="line">  // other operations are bypassed entirely if `digest` is present in the cache.</div>
<div class="line">})</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19337"></a>
&lt;a name="tarball"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.tarball(spec, [opts])&lt;/tt&gt;</h3>
<p>Fetches package data identified by <code>&lt;spec&gt;</code> and returns the data as a buffer.</p>
<p>This API has two variants:</p>
<ul>
<li><code>pacote.tarball.stream(spec, [opts])</code> - Same as <code>pacote.tarball</code>, except it returns a stream instead of a Promise.</li>
<li><code>pacote.tarball.toFile(spec, dest, [opts])</code> - Instead of returning data directly, data will be written directly to <code>dest</code>, and create any required directories along the way.</li>
</ul>
<h4><a class="anchor" id="autotoc_md19338"></a>
Example</h4>
<div class="fragment"><div class="line">pacote.tarball(&#39;pacote@1.0.0&#39;, { cache: &#39;./my-cache&#39; }).then(data =&gt; {</div>
<div class="line">  // data is the tarball data for pacote@1.0.0</div>
<div class="line">})</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19339"></a>
&lt;a name="tarball-stream"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.tarball.stream(spec, [opts])&lt;/tt&gt;</h3>
<p>Same as <code>pacote.tarball</code>, except it returns a stream instead of a Promise.</p>
<h4><a class="anchor" id="autotoc_md19340"></a>
Example</h4>
<div class="fragment"><div class="line">pacote.tarball.stream(&#39;pacote@1.0.0&#39;)</div>
<div class="line">.pipe(fs.createWriteStream(&#39;./pacote-1.0.0.tgz&#39;))</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19341"></a>
&lt;a name="tarball-to-file"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.tarball.toFile(spec, dest, [opts])&lt;/tt&gt;</h3>
<p>Like <code>pacote.tarball</code>, but instead of returning data directly, data will be written directly to <code>dest</code>, and create any required directories along the way.</p>
<h4><a class="anchor" id="autotoc_md19342"></a>
Example</h4>
<div class="fragment"><div class="line">pacote.tarball.toFile(&#39;pacote@1.0.0&#39;, &#39;./pacote-1.0.0.tgz&#39;)</div>
<div class="line">.then(() =&gt; /* pacote tarball written directly to ./pacote-1.0.0.tgz */)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19343"></a>
&lt;a name="prefetch"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.prefetch(spec, [opts])&lt;/tt&gt;</h3>
<h4><a class="anchor" id="autotoc_md19344"></a>
THIS API IS DEPRECATED. USE &lt;tt&gt;pacote.tarball()&lt;/tt&gt; INSTEAD</h4>
<p>Fetches package data identified by <code>&lt;spec&gt;</code>, usually for the purpose of warming up the local package cache (with <code>opts.cache</code>). It does not return anything.</p>
<h4><a class="anchor" id="autotoc_md19345"></a>
Example</h4>
<div class="fragment"><div class="line">pacote.prefetch(&#39;pacote@1.0.0&#39;, { cache: &#39;./my-cache&#39; }).then(() =&gt; {</div>
<div class="line">  // ./my-cache now has both the manifest and tarball for `pacote@1.0.0`.</div>
<div class="line">})</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19346"></a>
&lt;a name="clearMemoized"&gt;&lt;/a&gt; &lt;tt&gt;&gt; pacote.clearMemoized()&lt;/tt&gt;</h3>
<p>This utility function can be used to force pacote to release its references to any memoized data in its various internal caches. It might help free some memory.</p>
<div class="fragment"><div class="line">pacote.manifest(...).then(() =&gt; pacote.clearMemoized)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md19347"></a>
&lt;a name="options"&gt;&lt;/a&gt; &lt;tt&gt;&gt; options&lt;/tt&gt;</h3>
<p><code>pacote</code> accepts <a href="https://npm.im/npm-registry-fetch#fetch-options">the options for <code>npm-registry-fetch</code></a> as-is, with a couple of additional <code>pacote-specific</code> ones:</p>
<h4><a class="anchor" id="autotoc_md19348"></a>
&lt;a name="dirPacker"&gt;&lt;/a&gt; &lt;tt&gt;opts.dirPacker&lt;/tt&gt;</h4>
<ul>
<li>Type: Function</li>
<li>Default: Uses <a href="https://npm.im/npm-packlist"><code>npm-packlist</code></a> and <a href="https://npm.im/tar"><code>tar</code></a> to make a tarball.</li>
</ul>
<p>Expects a function that takes a single argument, <code>dir</code>, and returns a <code>ReadableStream</code> that outputs packaged tarball data. Used when creating tarballs for package specs that are not already packaged, such as git and directory dependencies. The default <code>opts.dirPacker</code> does not execute <code>prepare</code> scripts, even though npm itself does.</p>
<h4><a class="anchor" id="autotoc_md19349"></a>
&lt;a name="opts-enjoy-by"&gt;&lt;/a&gt; &lt;tt&gt;opts.enjoy-by&lt;/tt&gt;</h4>
<ul>
<li>Alias: <code>opts.enjoyBy</code>, <code>opts.before</code></li>
<li>Type: Date-able</li>
<li>Default: undefined</li>
</ul>
<p>If passed in, will be used while resolving to filter the versions for <b>registry dependencies</b> such that versions published <b>after</b> <code>opts.enjoy-by</code> are not considered &ndash; as if they'd never been published.</p>
<h4><a class="anchor" id="autotoc_md19350"></a>
&lt;a name="opts-include-deprecated"&gt;&lt;/a&gt; &lt;tt&gt;opts.include-deprecated&lt;/tt&gt;</h4>
<ul>
<li>Alias: <code>opts.includeDeprecated</code></li>
<li>Type: Boolean</li>
<li>Default: false</li>
</ul>
<p>If false, deprecated versions will be skipped when selecting from registry range specifiers. If true, deprecations do not affect version selection.</p>
<h4><a class="anchor" id="autotoc_md19351"></a>
&lt;a name="opts-full-metadata"&gt;&lt;/a&gt; &lt;tt&gt;opts.full-metadata&lt;/tt&gt;</h4>
<ul>
<li>Type: Boolean</li>
<li>Default: false</li>
</ul>
<p>If <code>true</code>, the full packument will be fetched when doing metadata requests. By defaul, <code>pacote</code> only fetches the summarized packuments, also called "corgis".</p>
<h4><a class="anchor" id="autotoc_md19352"></a>
&lt;a name="opts-tag"&gt;&lt;/a&gt; &lt;tt&gt;opts.tag&lt;/tt&gt;</h4>
<ul>
<li>Alias: <code>opts.defaultTag</code></li>
<li>Type: String</li>
<li>Default: &lsquo;'latest&rsquo;`</li>
</ul>
<p>Package version resolution tag. When processing registry spec ranges, this option is used to determine what dist-tag to treat as "latest". For more details about how <code>pacote</code> selects versions and how <code>tag</code> is involved, see <a href="https://npm.im/npm-pick-manifest">the documentation for <code>npm-pick-manifest</code></a>.</p>
<h4><a class="anchor" id="autotoc_md19353"></a>
&lt;a name="opts-resolved"&gt;&lt;/a&gt; &lt;tt&gt;opts.resolved&lt;/tt&gt;</h4>
<ul>
<li>Type: String</li>
<li>Default: null</li>
</ul>
<p>When fetching tarballs, this option can be passed in to skip registry metadata lookups when downloading tarballs. If the string is a <code>file:</code> URL, pacote will try to read the referenced local file before attempting to do any further lookups. This option does not bypass integrity checks when <code>opts.integrity</code> is passed in.</p>
<h4><a class="anchor" id="autotoc_md19354"></a>
&lt;a name="opts-where"&gt;&lt;/a&gt; &lt;tt&gt;opts.where&lt;/tt&gt;</h4>
<ul>
<li>Type: String</li>
<li>Default: null</li>
</ul>
<p>Passed as an argument to <a href="https://npm.im/npm-package-arg"><code>npm-package-arg</code></a> when resolving <code>spec</code> arguments. Used to determine what path to resolve local path specs relatively from. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
